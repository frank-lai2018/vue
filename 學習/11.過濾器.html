<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>11_過濾器</title>
</head>
<body>
<!--
1. 理解過濾器
  功能: 對要顯示的數據進行特定格式化後再顯示
  注意: 並沒有改變原本的數據, 可是產生新的對應的數據
2. 編碼
  1). 定義過濾器(value: | 前面的變數值，arg1,arg2...為()傳入的參數)
    
    Vue.filter(filterName, function(value[,arg1,arg2,...]){
      // 進行一定的數據處理
      return newValue
    })
  2). 使用過濾器
    <div>{{myData | filterName}}</div>
    <div>{{myData | filterName(arg)}}</div>
-->
<!--需求: 對當前時間進行指定格式顯示-->
<div id="test">
  <h2>顯示格式化的日期時間</h2>
  <p>{{time}}</p>
  <p>最完整的: {{time | dateString}}</p>
  <p>年月日: {{time | dateString('YYYY-MM-DD')}}</p>
</div>

<script type="text/javascript" src="./js/vue.js"></script>
<script type="text/javascript" src="https://cdn.bootcss.com/moment.js/2.22.1/moment.js"></script>
<script>
  // 定義過濾器
  Vue.filter('dateString', function (value, format='YYYY-MM-DD HH:mm:ss') {

    return moment(value).format(format);
  })


  new Vue({
    el: '#test',
    data: {
      time: new Date()
    },
    mounted () {
      setInterval(() => {
        this.time = new Date()
      }, 1000)
    }
  })
</script>
</body>
</html>